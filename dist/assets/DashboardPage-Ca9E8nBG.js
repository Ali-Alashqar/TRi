import{c as O,u as Y,r as k,j as e,L,S as X,B as j,R as Z,a as V}from"./index-Ct8dfoMw.js";import{u as K,I as x}from"./use-toast-CaC6bT4S.js";import{T as I}from"./textarea-BH4JDsTW.js";import{D as R,a as U,b as J,c as G}from"./dialog-CSnXyiYf.js";import{U as Q}from"./users-CwC6ASLT.js";import{M as ee}from"./mail-B5cVTRRT.js";import{M as se,C as te,E as q}from"./message-square-BcIUt084.js";import{S as B}from"./star-B0UvBASO.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],le=O("chart-column",ae);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],z=O("circle-check",ie);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],_=O("circle-x",ne);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ce=O("file-text",re);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],oe=O("folder-open",de);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],he=O("house",me);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],ue=O("log-out",xe);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],pe=O("phone",je);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$=O("plus",ge);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],D=O("save",be);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fe=O("settings",ve);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],H=O("square-pen",Ne);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],M=O("trash-2",ye);function He({siteData:g,apiUrl:u}){var y,p,c;const m=Y(),{toast:t}=K(),[b,s]=k.useState(null);k.useEffect(()=>{const l=localStorage.getItem("user");l?s(JSON.parse(l)):m("/login")},[m]);const a=()=>{localStorage.removeItem("user"),m("/login")};return!b||!g?null:e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsxs("div",{className:"fixed left-0 top-0 h-full w-64 bg-card border-r border-border p-6 overflow-y-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-primary",children:"TechNest CMS"}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Welcome, ",b.username]})]}),e.jsxs("nav",{className:"space-y-2",children:[e.jsxs(L,{to:"/dashboard",className:"flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-muted transition-colors",children:[e.jsx(he,{size:20}),e.jsx("span",{children:"Home Content"})]}),e.jsxs(L,{to:"/dashboard/projects",className:"flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-muted transition-colors",children:[e.jsx(oe,{size:20}),e.jsx("span",{children:"Projects"})]}),e.jsxs(L,{to:"/dashboard/about",className:"flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-muted transition-colors",children:[e.jsx(Q,{size:20}),e.jsx("span",{children:"About"})]}),e.jsxs(L,{to:"/dashboard/messages",className:"flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-muted transition-colors",children:[e.jsx(ee,{size:20}),e.jsx("span",{children:"Messages"}),((y=g.messages)==null?void 0:y.length)>0&&e.jsx("span",{className:"ml-auto bg-primary text-primary-foreground text-xs px-2 py-1 rounded-full",children:g.messages.length})]}),e.jsxs(L,{to:"/dashboard/project-submissions",className:"flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-muted transition-colors",children:[e.jsx(X,{size:20}),e.jsx("span",{children:"Project Ideas"}),((p=g.projectSubmissions)==null?void 0:p.length)>0&&e.jsx("span",{className:"ml-auto bg-primary text-primary-foreground text-xs px-2 py-1 rounded-full",children:g.projectSubmissions.length})]}),e.jsxs(L,{to:"/dashboard/statistics",className:"flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-muted transition-colors",children:[e.jsx(le,{size:20}),e.jsx("span",{children:"Statistics"})]}),e.jsxs(L,{to:"/dashboard/testimonials",className:"flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-muted transition-colors",children:[e.jsx(se,{size:20}),e.jsx("span",{children:"Testimonials"})]}),e.jsxs(L,{to:"/dashboard/testimonial-submissions",className:"flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-muted transition-colors",children:[e.jsx(z,{size:20}),e.jsx("span",{children:"Testimonial Requests"}),((c=g.testimonialSubmissions)==null?void 0:c.length)>0&&e.jsx("span",{className:"ml-auto bg-primary text-primary-foreground text-xs px-2 py-1 rounded-full",children:g.testimonialSubmissions.length})]}),e.jsxs(L,{to:"/dashboard/ratings",className:"flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-muted transition-colors",children:[e.jsx(B,{size:20}),e.jsx("span",{children:"Project Ratings"})]}),e.jsxs(L,{to:"/dashboard/technologies",className:"flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-muted transition-colors",children:[e.jsx(te,{size:20}),e.jsx("span",{children:"Technologies"})]}),e.jsxs(L,{to:"/dashboard/blog",className:"flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-muted transition-colors",children:[e.jsx(ce,{size:20}),e.jsx("span",{children:"Blog/News"})]}),e.jsxs(L,{to:"/dashboard/visitors",className:"flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-muted transition-colors",children:[e.jsx(q,{size:20}),e.jsx("span",{children:"Visitors"})]}),e.jsxs(L,{to:"/dashboard/contact-settings",className:"flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-muted transition-colors",children:[e.jsx(pe,{size:20}),e.jsx("span",{children:"Contact Settings"})]}),e.jsxs(L,{to:"/dashboard/settings",className:"flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-muted transition-colors",children:[e.jsx(fe,{size:20}),e.jsx("span",{children:"Settings"})]})]}),e.jsx("div",{className:"absolute bottom-6 left-6 right-6",children:e.jsxs(j,{onClick:a,variant:"outline",className:"w-full",children:[e.jsx(ue,{className:"mr-2 h-4 w-4"}),"Logout"]})})]}),e.jsx("div",{className:"ml-64 p-8",children:e.jsxs(Z,{children:[e.jsx(V,{path:"/",element:e.jsx(we,{siteData:g,apiUrl:u,toast:t})}),e.jsx(V,{path:"/projects",element:e.jsx(ke,{siteData:g,apiUrl:u,toast:t})}),e.jsx(V,{path:"/about",element:e.jsx(Ce,{siteData:g,apiUrl:u,toast:t})}),e.jsx(V,{path:"/messages",element:e.jsx(Se,{siteData:g,apiUrl:u,toast:t})}),e.jsx(V,{path:"/project-submissions",element:e.jsx(Te,{siteData:g,apiUrl:u,toast:t})}),e.jsx(V,{path:"/statistics",element:e.jsx(Pe,{siteData:g,apiUrl:u,toast:t})}),e.jsx(V,{path:"/testimonials",element:e.jsx(Ae,{siteData:g,apiUrl:u,toast:t})}),e.jsx(V,{path:"/technologies",element:e.jsx(De,{siteData:g,apiUrl:u,toast:t})}),e.jsx(V,{path:"/blog",element:e.jsx(Me,{siteData:g,apiUrl:u,toast:t})}),e.jsx(V,{path:"/testimonial-submissions",element:e.jsx(Ve,{apiUrl:u,toast:t})}),e.jsx(V,{path:"/ratings",element:e.jsx(ze,{apiUrl:u,toast:t})}),e.jsx(V,{path:"/visitors",element:e.jsx(Le,{apiUrl:u,toast:t})}),e.jsx(V,{path:"/contact-settings",element:e.jsx(Ie,{siteData:g,apiUrl:u,toast:t})}),e.jsx(V,{path:"/settings",element:e.jsx(Ee,{siteData:g,apiUrl:u,toast:t})})]})})]})}function we({siteData:g,apiUrl:u,toast:m}){const[t,b]=k.useState(g.home.hero),[s,a]=k.useState(g.home.whatWeDo),[y,p]=k.useState(g.home.vision),[c,l]=k.useState(g.home.partners),[T,E]=k.useState(null),[r,v]=k.useState(null),d=async()=>{try{(await fetch(`${u}/api/home/hero`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok&&m({title:"Success",description:"Hero section updated!"})}catch{m({title:"Error",description:"Failed to update",variant:"destructive"})}},o=async()=>{try{(await fetch(`${u}/api/home/whatwedo`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok&&m({title:"Success",description:"What We Do updated!"})}catch{m({title:"Error",description:"Failed to update",variant:"destructive"})}},h=async()=>{try{(await fetch(`${u}/api/home/vision`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)})).ok&&m({title:"Success",description:"Vision updated!"})}catch{m({title:"Error",description:"Failed to update",variant:"destructive"})}},n=async()=>{try{(await fetch(`${u}/api/home/partners`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})).ok&&m({title:"Success",description:"Partners updated!"})}catch{m({title:"Error",description:"Failed to update",variant:"destructive"})}},N=()=>{const f={id:Date.now().toString(),title:"New Service",description:"Service description",icon:"Gamepad2"};a([...s,f])},C=(f,S,W)=>{a(s.map(F=>F.id===f?{...F,[S]:W}:F))},A=f=>{a(s.filter(S=>S.id!==f))},w=()=>{const f={id:Date.now().toString(),name:"New Partner",logoUrl:"https://via.placeholder.com/150x60"};l([...c,f])},i=(f,S,W)=>{l(c.map(F=>F.id===f?{...F,[S]:W}:F))},P=f=>{l(c.filter(S=>S.id!==f))};return e.jsxs("div",{className:"space-y-8",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Home Page Content"}),e.jsxs("div",{className:"bg-card p-6 rounded-lg border border-border",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Hero Section"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Title"}),e.jsx(x,{value:t.title,onChange:f=>b({...t,title:f.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Subtitle"}),e.jsx(x,{value:t.subtitle,onChange:f=>b({...t,subtitle:f.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"CTA 1"}),e.jsx(x,{value:t.cta1,onChange:f=>b({...t,cta1:f.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"CTA 2"}),e.jsx(x,{value:t.cta2,onChange:f=>b({...t,cta2:f.target.value})})]})]}),e.jsxs(j,{onClick:d,children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Save Changes"]})]})]}),e.jsxs("div",{className:"bg-card p-6 rounded-lg border border-border",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"What We Do"}),e.jsxs(j,{onClick:N,size:"sm",children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"Add Service"]})]}),e.jsxs("div",{className:"space-y-4",children:[s.map(f=>e.jsx("div",{className:"border border-border rounded-lg p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Title"}),e.jsx(x,{value:f.title,onChange:S=>C(f.id,"title",S.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),e.jsx(I,{value:f.description,onChange:S=>C(f.id,"description",S.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Icon Name (Lucide)"}),e.jsx(x,{value:f.icon,onChange:S=>C(f.id,"icon",S.target.value),placeholder:"e.g., Gamepad2, Glasses, Palette"})]}),e.jsxs(j,{onClick:()=>A(f.id),variant:"destructive",size:"sm",children:[e.jsx(M,{className:"mr-2 h-4 w-4"}),"Delete"]})]})},f.id)),e.jsxs(j,{onClick:o,className:"w-full",children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Save All Services"]})]})]}),e.jsxs("div",{className:"bg-card p-6 rounded-lg border border-border",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Our Vision"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Title"}),e.jsx(x,{value:y.title,onChange:f=>p({...y,title:f.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Text"}),e.jsx(I,{value:y.text,onChange:f=>p({...y,text:f.target.value}),rows:4})]}),e.jsxs(j,{onClick:h,children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Save Vision"]})]})]}),e.jsxs("div",{className:"bg-card p-6 rounded-lg border border-border",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Our Partners"}),e.jsxs(j,{onClick:w,size:"sm",children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"Add Partner"]})]}),e.jsxs("div",{className:"space-y-4",children:[c.map(f=>e.jsx("div",{className:"border border-border rounded-lg p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Partner Name"}),e.jsx(x,{value:f.name,onChange:S=>i(f.id,"name",S.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Logo URL"}),e.jsx(x,{value:f.logoUrl,onChange:S=>i(f.id,"logoUrl",S.target.value),placeholder:"https://example.com/logo.png"})]}),e.jsxs(j,{onClick:()=>P(f.id),variant:"destructive",size:"sm",children:[e.jsx(M,{className:"mr-2 h-4 w-4"}),"Delete"]})]})},f.id)),e.jsxs(j,{onClick:n,className:"w-full",children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Save All Partners"]})]})]})]})}function ke({siteData:g,apiUrl:u,toast:m}){const[t,b]=k.useState(g.projects||[]),[s,a]=k.useState(null),[y,p]=k.useState(!1),c=()=>{a({id:"",title:"",type:"2D",tags:[],description:"",thumbnailUrl:"",coverUrl:"",features:[],technologies:[],releaseDate:"",platforms:[],gallery:[],mediaGallery:[],downloadLink:"",videoLink:""}),p(!0)},l=()=>{const o={type:"image",url:"",caption:""};a({...s,mediaGallery:[...s.mediaGallery||[],o]})},T=(o,h,n)=>{const N=[...s.mediaGallery||[]];N[o]={...N[o],[h]:n},a({...s,mediaGallery:N})},E=o=>{const h=(s.mediaGallery||[]).filter((n,N)=>N!==o);a({...s,mediaGallery:h})},r=o=>{a({...o}),p(!0)},v=async()=>{try{const o=s._id||s.id,h=o?`${u}/api/projects/${o}`:`${u}/api/projects`,N=await fetch(h,{method:o?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(N.ok){const C=await N.json();b(o?t.map(A=>(A._id||A.id)===(C._id||C.id)?C:A):[...t,C]),m({title:"Success",description:"Project saved!"}),p(!1),a(null)}}catch{m({title:"Error",description:"Failed to save project",variant:"destructive"})}},d=async o=>{if(confirm("Are you sure you want to delete this project?"))try{(await fetch(`${u}/api/projects/${o}`,{method:"DELETE"})).ok&&(b(t.filter(n=>n._id!==o)),m({title:"Success",description:"Project deleted!"}))}catch{m({title:"Error",description:"Failed to delete project",variant:"destructive"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Projects Management"}),e.jsxs(j,{onClick:c,children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"Add Project"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(o=>e.jsxs("div",{className:"bg-card rounded-lg border border-border overflow-hidden",children:[e.jsx("img",{src:o.thumbnailUrl,alt:o.title,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-lg mb-1",children:o.title}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:o.type}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(j,{onClick:()=>r(o),size:"sm",variant:"outline",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsxs(j,{onClick:()=>d(o._id),size:"sm",variant:"destructive",children:[e.jsx(M,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]},o.id))}),e.jsx(R,{open:y,onOpenChange:p,children:e.jsxs(U,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsx(J,{children:e.jsx(G,{children:s!=null&&s.id?"Edit Project":"Add Project"})}),s&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Title"}),e.jsx(x,{value:s.title,onChange:o=>a({...s,title:o.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Type"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-border rounded-md bg-background",value:s.type,onChange:o=>a({...s,type:o.target.value}),children:[e.jsx("option",{value:"2D",children:"2D"}),e.jsx("option",{value:"3D",children:"3D"}),e.jsx("option",{value:"VR",children:"VR"}),e.jsx("option",{value:"Mobile",children:"Mobile"}),e.jsx("option",{value:"Web",children:"Web"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),e.jsx(I,{value:s.description,onChange:o=>a({...s,description:o.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Thumbnail URL"}),e.jsx(x,{value:s.thumbnailUrl,onChange:o=>a({...s,thumbnailUrl:o.target.value}),placeholder:"https://example.com/image.jpg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tags (comma-separated)"}),e.jsx(x,{value:Array.isArray(s.tags)?s.tags.join(", "):"",onChange:o=>a({...s,tags:o.target.value.split(",").map(h=>h.trim())}),placeholder:"Action, Adventure, Sci-Fi"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Key Features (comma-separated)"}),e.jsx(I,{value:Array.isArray(s.features)?s.features.join(", "):"",onChange:o=>a({...s,features:o.target.value.split(",").map(h=>h.trim())}),placeholder:"Multiplayer mode, 4K graphics, Cross-platform",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Technologies (comma-separated)"}),e.jsx(x,{value:Array.isArray(s.technologies)?s.technologies.join(", "):"",onChange:o=>a({...s,technologies:o.target.value.split(",").map(h=>h.trim())}),placeholder:"Unity, C#, Photon"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Release Date"}),e.jsx(x,{type:"date",value:s.releaseDate?new Date(s.releaseDate).toISOString().split("T")[0]:"",onChange:o=>a({...s,releaseDate:o.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Platforms (comma-separated)"}),e.jsx(x,{value:Array.isArray(s.platforms)?s.platforms.join(", "):"",onChange:o=>a({...s,platforms:o.target.value.split(",").map(h=>h.trim())}),placeholder:"PC, PlayStation, Xbox, Mobile"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cover Image URL"}),e.jsx(x,{value:s.coverUrl||"",onChange:o=>a({...s,coverUrl:o.target.value}),placeholder:"https://example.com/cover.jpg"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Download Link (optional)"}),e.jsx(x,{value:s.downloadLink||"",onChange:o=>a({...s,downloadLink:o.target.value}),placeholder:"https://example.com/download/game.zip"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Video Link (optional)"}),e.jsx(x,{value:s.videoLink||"",onChange:o=>a({...s,videoLink:o.target.value}),placeholder:"https://youtube.com/watch?v=..."})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("label",{className:"block text-sm font-medium",children:"Media Gallery (Images & Videos)"}),e.jsxs(j,{type:"button",size:"sm",onClick:l,children:[e.jsx($,{className:"mr-1 h-3 w-3"}),"Add Media"]})]}),e.jsx("div",{className:"space-y-3",children:(s.mediaGallery||[]).map((o,h)=>e.jsxs("div",{className:"border border-border rounded-lg p-3 space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("select",{className:"px-2 py-1 border border-border rounded bg-background text-sm",value:o.type,onChange:n=>T(h,"type",n.target.value),children:[e.jsx("option",{value:"image",children:"Image"}),e.jsx("option",{value:"video",children:"Video"})]}),e.jsx(j,{type:"button",size:"sm",variant:"destructive",onClick:()=>E(h),children:e.jsx(M,{className:"h-3 w-3"})})]}),e.jsx(x,{placeholder:`${o.type==="image"?"Image":"Video"} URL`,value:o.url,onChange:n=>T(h,"url",n.target.value)}),e.jsx(x,{placeholder:"Caption (optional)",value:o.caption||"",onChange:n=>T(h,"caption",n.target.value)})]},h))})]}),e.jsxs(j,{onClick:v,className:"w-full",children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Save Project"]})]})]})})]})}function Ce({siteData:g,apiUrl:u,toast:m}){const[t,b]=k.useState(g.about.story),[s,a]=k.useState(g.about.team||[]),[y,p]=k.useState(g.about.values||[]),[c,l]=k.useState(null),[T,E]=k.useState(!1),r=async()=>{try{(await fetch(`${u}/api/about/story`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok&&m({title:"Success",description:"Story updated!"})}catch{m({title:"Error",description:"Failed to update",variant:"destructive"})}},v=async()=>{try{(await fetch(`${u}/api/about/team`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok&&m({title:"Success",description:"Team updated!"})}catch{m({title:"Error",description:"Failed to update",variant:"destructive"})}},d=async()=>{try{(await fetch(`${u}/api/about/values`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)})).ok&&m({title:"Success",description:"Values updated!"})}catch{m({title:"Error",description:"Failed to update",variant:"destructive"})}},o=()=>{l({id:"",name:"",role:"",bio:"",photoUrl:"",linkedin:"",github:""}),E(!0)},h=i=>{l({...i}),E(!0)},n=()=>{c.id?a(s.map(i=>i.id===c.id?c:i)):a([...s,{...c,id:Date.now().toString()}]),E(!1),l(null)},N=i=>{a(s.filter(P=>P.id!==i))},C=()=>{p([...y,{id:Date.now().toString(),title:"New Value",description:"Value description"}])},A=(i,P,f)=>{p(y.map(S=>S.id===i?{...S,[P]:f}:S))},w=i=>{p(y.filter(P=>P.id!==i))};return e.jsxs("div",{className:"space-y-8",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"About Page Content"}),e.jsxs("div",{className:"bg-card p-6 rounded-lg border border-border",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Our Story"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Title"}),e.jsx(x,{value:t.title,onChange:i=>b({...t,title:i.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Text"}),e.jsx(I,{value:t.text,onChange:i=>b({...t,text:i.target.value}),rows:4})]}),e.jsxs(j,{onClick:r,children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Save Story"]})]})]}),e.jsxs("div",{className:"bg-card p-6 rounded-lg border border-border",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Team Members"}),e.jsxs(j,{onClick:o,size:"sm",children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"Add Member"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:s.map(i=>e.jsxs("div",{className:"border border-border rounded-lg p-4",children:[e.jsx("img",{src:i.photoUrl,alt:i.name,className:"w-full h-32 object-cover rounded-lg mb-3"}),e.jsx("h3",{className:"font-semibold",children:i.name}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:i.role}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(j,{onClick:()=>h(i),size:"sm",variant:"outline",children:e.jsx(H,{className:"h-4 w-4"})}),e.jsx(j,{onClick:()=>N(i.id),size:"sm",variant:"destructive",children:e.jsx(M,{className:"h-4 w-4"})})]})]},i.id))}),e.jsxs(j,{onClick:v,className:"w-full",children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Save Team"]})]}),e.jsxs("div",{className:"bg-card p-6 rounded-lg border border-border",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Our Values"}),e.jsxs(j,{onClick:C,size:"sm",children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"Add Value"]})]}),e.jsxs("div",{className:"space-y-4",children:[y.map(i=>e.jsx("div",{className:"border border-border rounded-lg p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Title"}),e.jsx(x,{value:i.title,onChange:P=>A(i.id,"title",P.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),e.jsx(I,{value:i.description,onChange:P=>A(i.id,"description",P.target.value)})]}),e.jsxs(j,{onClick:()=>w(i.id),variant:"destructive",size:"sm",children:[e.jsx(M,{className:"mr-2 h-4 w-4"}),"Delete"]})]})},i.id)),e.jsxs(j,{onClick:d,className:"w-full",children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Save All Values"]})]})]}),e.jsx(R,{open:T,onOpenChange:E,children:e.jsxs(U,{className:"max-w-2xl",children:[e.jsx(J,{children:e.jsx(G,{children:c!=null&&c.id?"Edit Team Member":"Add Team Member"})}),c&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),e.jsx(x,{value:c.name,onChange:i=>l({...c,name:i.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Role"}),e.jsx(x,{value:c.role,onChange:i=>l({...c,role:i.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bio"}),e.jsx(I,{value:c.bio,onChange:i=>l({...c,bio:i.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Photo URL"}),e.jsx(x,{value:c.photoUrl,onChange:i=>l({...c,photoUrl:i.target.value}),placeholder:"https://example.com/photo.jpg"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"LinkedIn URL"}),e.jsx(x,{value:c.linkedin,onChange:i=>l({...c,linkedin:i.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"GitHub URL"}),e.jsx(x,{value:c.github,onChange:i=>l({...c,github:i.target.value})})]})]}),e.jsxs(j,{onClick:n,className:"w-full",children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Save Member"]})]})]})})]})}function Se({siteData:g,apiUrl:u,toast:m}){const[t,b]=k.useState(g.messages||[]),s=async a=>{try{(await fetch(`${u}/api/contact/messages/${a}`,{method:"DELETE"})).ok&&(b(t.filter(p=>p.id!==a)),m({title:"Success",description:"Message deleted!"}))}catch{m({title:"Error",description:"Failed to delete",variant:"destructive"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Contact Messages"}),t.length===0?e.jsx("p",{className:"text-muted-foreground",children:"No messages yet"}):e.jsx("div",{className:"space-y-4",children:t.map(a=>e.jsxs("div",{className:"bg-card p-6 rounded-lg border border-border",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:a.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.email})]}),e.jsx(j,{onClick:()=>s(a.id),variant:"destructive",size:"sm",children:e.jsx(M,{className:"h-4 w-4"})})]}),e.jsx("h4",{className:"font-medium mb-2",children:a.subject}),e.jsx("p",{className:"text-sm mb-3",children:a.message}),e.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(a.date).toLocaleString()})]},a.id))})]})}function Te({siteData:g,apiUrl:u,toast:m}){const[t,b]=k.useState(g.projectSubmissions||[]),s=async a=>{try{(await fetch(`${u}/api/project-submissions/${a}`,{method:"DELETE"})).ok&&(b(t.filter(p=>p.id!==a)),m({title:"Success",description:"Submission deleted!"}))}catch{m({title:"Error",description:"Failed to delete",variant:"destructive"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Project Ideas Submissions"}),t.length===0?e.jsx("p",{className:"text-muted-foreground",children:"No project submissions yet"}):e.jsx("div",{className:"space-y-4",children:t.map(a=>e.jsxs("div",{className:"bg-card p-6 rounded-lg border border-border",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:a.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.email}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.phone})]}),e.jsx(j,{onClick:()=>s(a.id),variant:"destructive",size:"sm",children:e.jsx(M,{className:"h-4 w-4"})})]}),e.jsx("h4",{className:"font-medium mb-2",children:a.title}),e.jsx("p",{className:"text-sm mb-3",children:a.message}),a.link&&e.jsx("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline",children:"Project Link →"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-3",children:new Date(a.date).toLocaleString()})]},a.id))})]})}function Ee({siteData:g,apiUrl:u,toast:m}){var N,C,A,w;const[t,b]=k.useState(g.intro),[s,a]=k.useState(g.contact),[y,p]=k.useState(g.join),[c,l]=k.useState(g.chatbot||{enabled:!0,name:"Tec",welcomeMessage:"مرحباً! أنا Tec 🤖، مساعدك الذكي في جامعة عمان العربية. كيف يمكنني مساعدتك اليوم؟"}),T=async()=>{try{(await fetch(`${u}/api/chatbot/settings`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})).ok&&(m({title:"Success",description:"Chatbot settings updated!"}),setTimeout(()=>window.location.reload(),1e3))}catch{m({title:"Error",description:"Failed to update",variant:"destructive"})}},E=async()=>{try{(await fetch(`${u}/api/intro`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok&&m({title:"Success",description:"Intro settings updated!"})}catch{m({title:"Error",description:"Failed to update",variant:"destructive"})}},r=async()=>{try{(await fetch(`${u}/api/contact`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok&&m({title:"Success",description:"Contact info updated!"})}catch{m({title:"Error",description:"Failed to update",variant:"destructive"})}},v=async()=>{try{(await fetch(`${u}/api/join/hero`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(y.hero)})).ok&&m({title:"Success",description:"Join page hero updated!"})}catch{m({title:"Error",description:"Failed to update",variant:"destructive"})}},d=async()=>{try{(await fetch(`${u}/api/join/whyjoin`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(y.whyJoinUs)})).ok&&m({title:"Success",description:"Why Join Us updated!"})}catch{m({title:"Error",description:"Failed to update",variant:"destructive"})}},o=()=>{p({...y,whyJoinUs:[...y.whyJoinUs,{id:Date.now().toString(),title:"New Benefit",description:"Benefit description"}]})},h=(i,P,f)=>{p({...y,whyJoinUs:y.whyJoinUs.map(S=>S.id===i?{...S,[P]:f}:S)})},n=i=>{p({...y,whyJoinUs:y.whyJoinUs.filter(P=>P.id!==i)})};return e.jsxs("div",{className:"space-y-8",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Site Settings"}),e.jsxs("div",{className:"bg-card p-6 rounded-lg border border-border",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"🤖 Tec Chatbot Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:c.enabled,onChange:i=>l({...c,enabled:i.target.checked}),className:"w-4 h-4"}),e.jsx("label",{className:"text-sm font-medium",children:"Enable Chatbot"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Chatbot Name"}),e.jsx(x,{value:c.name,onChange:i=>l({...c,name:i.target.value}),placeholder:"Tec"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Welcome Message"}),e.jsx(I,{value:c.welcomeMessage,onChange:i=>l({...c,welcomeMessage:i.target.value}),placeholder:"مرحباً! أنا Tec...",rows:3})]}),e.jsxs(j,{onClick:T,children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Save Chatbot Settings"]})]})]}),e.jsxs("div",{className:"bg-card p-6 rounded-lg border border-border",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Intro Video Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:t.enabled,onChange:i=>b({...t,enabled:i.target.checked}),className:"w-4 h-4"}),e.jsx("label",{className:"text-sm font-medium",children:"Enable Intro Video"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Video URL"}),e.jsx(x,{value:t.videoUrl,onChange:i=>b({...t,videoUrl:i.target.value}),placeholder:"/intro.mp4"})]}),e.jsxs(j,{onClick:E,children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Save Settings"]})]})]}),e.jsxs("div",{className:"bg-card p-6 rounded-lg border border-border",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Contact Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),e.jsx(x,{value:s.email,onChange:i=>a({...s,email:i.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Discord"}),e.jsx(x,{value:s.discord,onChange:i=>a({...s,discord:i.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Location"}),e.jsx(x,{value:s.location,onChange:i=>a({...s,location:i.target.value})})]}),e.jsxs(j,{onClick:r,children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Save Contact Info"]})]})]}),e.jsxs("div",{className:"bg-card p-6 rounded-lg border border-border",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Join Page Hero"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Title"}),e.jsx(x,{value:y.hero.title,onChange:i=>p({...y,hero:{...y.hero,title:i.target.value}})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Subtitle"}),e.jsx(x,{value:y.hero.subtitle,onChange:i=>p({...y,hero:{...y.hero,subtitle:i.target.value}})})]}),e.jsxs(j,{onClick:v,children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Save Hero"]})]})]}),e.jsxs("div",{className:"bg-card p-6 rounded-lg border border-border",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Why Join Us"}),e.jsxs(j,{onClick:o,size:"sm",children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"Add Item"]})]}),e.jsxs("div",{className:"space-y-4",children:[y.whyJoinUs.map(i=>e.jsx("div",{className:"border border-border rounded-lg p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Title"}),e.jsx(x,{value:i.title,onChange:P=>h(i.id,"title",P.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),e.jsx(I,{value:i.description,onChange:P=>h(i.id,"description",P.target.value)})]}),e.jsxs(j,{onClick:()=>n(i.id),variant:"destructive",size:"sm",children:[e.jsx(M,{className:"mr-2 h-4 w-4"}),"Delete"]})]})},i.id)),e.jsxs(j,{onClick:d,className:"w-full",children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Save All Items"]})]})]}),e.jsxs("div",{className:"bg-card rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Footer Links"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),e.jsx(x,{value:s.email,onChange:i=>a({...s,email:i.target.value}),placeholder:"contact@technest.com"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Social Links"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Discord"}),e.jsx(x,{value:((N=s.socials)==null?void 0:N.discord)||"",onChange:i=>a({...s,socials:{...s.socials,discord:i.target.value}}),placeholder:"https://discord.gg/..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"GitHub"}),e.jsx(x,{value:((C=s.socials)==null?void 0:C.github)||"",onChange:i=>a({...s,socials:{...s.socials,github:i.target.value}}),placeholder:"https://github.com/..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"LinkedIn"}),e.jsx(x,{value:((A=s.socials)==null?void 0:A.linkedin)||"",onChange:i=>a({...s,socials:{...s.socials,linkedin:i.target.value}}),placeholder:"https://linkedin.com/..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"YouTube"}),e.jsx(x,{value:((w=s.socials)==null?void 0:w.youtube)||"",onChange:i=>a({...s,socials:{...s.socials,youtube:i.target.value}}),placeholder:"https://youtube.com/..."})]})]})]}),e.jsxs(j,{onClick:r,className:"w-full",children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Save Footer Links"]})]})]})]})}function Pe({siteData:g,apiUrl:u,toast:m}){const[t,b]=k.useState(g.statistics||[]),[s,a]=k.useState(null),[y,p]=k.useState(!1),c=["Briefcase","Users","Trophy","Star","Zap","Code2","Cpu","Layers"],l=["text-blue-500","text-green-500","text-yellow-500","text-purple-500","text-red-500","text-pink-500","text-indigo-500","text-orange-500"],T=()=>{a({id:Date.now().toString(),icon:"Star",value:0,suffix:"+",label:"",color:"text-blue-500"}),p(!0)},E=d=>{a({...d}),p(!0)},r=async()=>{try{let d;t.find(h=>h.id===s.id)?d=t.map(h=>h.id===s.id?s:h):d=[...t,s],(await fetch(`${u}/api/statistics`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)})).ok&&(b(d),p(!1),a(null),m({title:"Success",description:"Statistics updated successfully"}))}catch{m({title:"Error",description:"Failed to update statistics",variant:"destructive"})}},v=async d=>{try{const o=t.filter(n=>n.id!==d);(await fetch(`${u}/api/statistics`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).ok&&(b(o),m({title:"Success",description:"Statistic deleted successfully"}))}catch{m({title:"Error",description:"Failed to delete statistic",variant:"destructive"})}};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Statistics Management"}),e.jsxs(j,{onClick:T,children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"Add Statistic"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map(d=>e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:`text-4xl font-bold ${d.color}`,children:[d.value,d.suffix]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(j,{size:"sm",variant:"ghost",onClick:()=>E(d),children:e.jsx(H,{className:"h-4 w-4"})}),e.jsx(j,{size:"sm",variant:"ghost",onClick:()=>v(d.id),children:e.jsx(M,{className:"h-4 w-4 text-destructive"})})]})]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:d.label}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Icon: ",d.icon]})]},d.id))}),e.jsx(R,{open:y,onOpenChange:p,children:e.jsxs(U,{className:"max-w-md",children:[e.jsx(J,{children:e.jsxs(G,{children:[s!=null&&s.id&&t.find(d=>d.id===s.id)?"Edit":"Add"," Statistic"]})}),s&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Label"}),e.jsx(x,{value:s.label,onChange:d=>a({...s,label:d.target.value}),placeholder:"Projects Completed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Value"}),e.jsx(x,{type:"number",value:s.value,onChange:d=>a({...s,value:parseInt(d.target.value)||0}),placeholder:"50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Suffix"}),e.jsx(x,{value:s.suffix,onChange:d=>a({...s,suffix:d.target.value}),placeholder:"+"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Icon"}),e.jsx("select",{className:"w-full px-3 py-2 border border-border rounded-md bg-background",value:s.icon,onChange:d=>a({...s,icon:d.target.value}),children:c.map(d=>e.jsx("option",{value:d,children:d},d))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Color"}),e.jsx("select",{className:"w-full px-3 py-2 border border-border rounded-md bg-background",value:s.color,onChange:d=>a({...s,color:d.target.value}),children:l.map(d=>e.jsx("option",{value:d,children:d},d))})]}),e.jsxs(j,{onClick:r,className:"w-full",children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Save"]})]})]})})]})}function Ae({siteData:g,apiUrl:u,toast:m}){const[t,b]=k.useState(g.testimonials||[]),[s,a]=k.useState(null),[y,p]=k.useState(!1),c=()=>{a({id:Date.now().toString(),name:"",role:"",image:"https://api.dicebear.com/7.x/avataaars/svg?seed="+Date.now(),rating:5,text:""}),p(!0)},l=r=>{a({...r}),p(!0)},T=async()=>{try{let r;t.find(d=>d.id===s.id)?r=t.map(d=>d.id===s.id?s:d):r=[...t,s],(await fetch(`${u}/api/testimonials`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok&&(b(r),p(!1),a(null),m({title:"Success",description:"Testimonials updated successfully"}))}catch{m({title:"Error",description:"Failed to update testimonials",variant:"destructive"})}},E=async r=>{try{const v=t.filter(o=>o.id!==r);(await fetch(`${u}/api/testimonials`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)})).ok&&(b(v),m({title:"Success",description:"Testimonial deleted successfully"}))}catch{m({title:"Error",description:"Failed to delete testimonial",variant:"destructive"})}};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Testimonials Management"}),e.jsxs(j,{onClick:c,children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"Add Testimonial"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(r=>e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("img",{src:r.image,alt:r.name,className:"w-12 h-12 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:r.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r.role}),e.jsx("div",{className:"flex gap-1 mt-1",children:[...Array(r.rating)].map((v,d)=>e.jsx("span",{className:"text-yellow-500",children:"★"},d))})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-3",children:r.text}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(j,{size:"sm",variant:"outline",onClick:()=>l(r),className:"flex-1",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsx(j,{size:"sm",variant:"outline",onClick:()=>E(r.id),children:e.jsx(M,{className:"h-4 w-4 text-destructive"})})]})]},r.id))}),e.jsx(R,{open:y,onOpenChange:p,children:e.jsxs(U,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(J,{children:e.jsxs(G,{children:[s!=null&&s.id&&t.find(r=>r.id===s.id)?"Edit":"Add"," Testimonial"]})}),s&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),e.jsx(x,{value:s.name,onChange:r=>a({...s,name:r.target.value}),placeholder:"John Doe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Role/Company"}),e.jsx(x,{value:s.role,onChange:r=>a({...s,role:r.target.value}),placeholder:"CEO, Company Name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Image URL"}),e.jsx(x,{value:s.image,onChange:r=>a({...s,image:r.target.value}),placeholder:"https://..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Rating (1-5)"}),e.jsx(x,{type:"number",min:"1",max:"5",value:s.rating,onChange:r=>a({...s,rating:parseInt(r.target.value)||5})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Testimonial Text"}),e.jsx(I,{value:s.text,onChange:r=>a({...s,text:r.target.value}),placeholder:"Write the testimonial...",rows:5})]}),e.jsxs(j,{onClick:T,className:"w-full",children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Save"]})]})]})})]})}function De({siteData:g,apiUrl:u,toast:m}){const[t,b]=k.useState(g.technologies||[]),[s,a]=k.useState(null),[y,p]=k.useState(!1),c=["Code2","Cpu","Layers","Zap"],l=()=>{a({id:Date.now().toString(),category:"",icon:"Code2",items:[]}),p(!0)},T=h=>{a({...h}),p(!0)},E=async()=>{try{let h;t.find(N=>N.id===s.id)?h=t.map(N=>N.id===s.id?s:N):h=[...t,s],(await fetch(`${u}/api/technologies`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).ok&&(b(h),p(!1),a(null),m({title:"Success",description:"Technologies updated successfully"}))}catch{m({title:"Error",description:"Failed to update technologies",variant:"destructive"})}},r=async h=>{try{const n=t.filter(C=>C.id!==h);(await fetch(`${u}/api/technologies`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).ok&&(b(n),m({title:"Success",description:"Technology category deleted successfully"}))}catch{m({title:"Error",description:"Failed to delete technology",variant:"destructive"})}},v=()=>{a({...s,items:[...s.items,""]})},d=h=>{const n=s.items.filter((N,C)=>C!==h);a({...s,items:n})},o=(h,n)=>{const N=[...s.items];N[h]=n,a({...s,items:N})};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Technologies Management"}),e.jsxs(j,{onClick:l,children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"Add Category"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map(h=>e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:h.category}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Icon: ",h.icon]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(j,{size:"sm",variant:"ghost",onClick:()=>T(h),children:e.jsx(H,{className:"h-4 w-4"})}),e.jsx(j,{size:"sm",variant:"ghost",onClick:()=>r(h.id),children:e.jsx(M,{className:"h-4 w-4 text-destructive"})})]})]}),e.jsx("div",{className:"space-y-1",children:h.items.map((n,N)=>e.jsxs("div",{className:"text-sm text-muted-foreground",children:["• ",n]},N))})]},h.id))}),e.jsx(R,{open:y,onOpenChange:p,children:e.jsxs(U,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(J,{children:e.jsxs(G,{children:[s!=null&&s.id&&t.find(h=>h.id===s.id)?"Edit":"Add"," Technology Category"]})}),s&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category Name"}),e.jsx(x,{value:s.category,onChange:h=>a({...s,category:h.target.value}),placeholder:"Game Engines"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Icon"}),e.jsx("select",{className:"w-full px-3 py-2 border border-border rounded-md bg-background",value:s.icon,onChange:h=>a({...s,icon:h.target.value}),children:c.map(h=>e.jsx("option",{value:h,children:h},h))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"block text-sm font-medium",children:"Items"}),e.jsx(j,{size:"sm",onClick:v,children:e.jsx($,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"space-y-2",children:s.items.map((h,n)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(x,{value:h,onChange:N=>o(n,N.target.value),placeholder:"Unity"}),e.jsx(j,{size:"sm",variant:"outline",onClick:()=>d(n),children:e.jsx(M,{className:"h-4 w-4"})})]},n))})]}),e.jsxs(j,{onClick:E,className:"w-full",children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Save"]})]})]})})]})}function Me({siteData:g,apiUrl:u,toast:m}){var h;const[t,b]=k.useState(g.blog||[]),[s,a]=k.useState(null),[y,p]=k.useState(!1),c=()=>{a({id:Date.now().toString(),title:"",excerpt:"",content:"",image:"",mediaGallery:[],author:"",date:new Date().toISOString().split("T")[0],category:"",tags:[]}),p(!0)},l=()=>{const n={type:"image",url:"",caption:""};a({...s,mediaGallery:[...s.mediaGallery||[],n]})},T=(n,N,C)=>{const A=[...s.mediaGallery||[]];A[n]={...A[n],[N]:C},a({...s,mediaGallery:A})},E=n=>{const N=(s.mediaGallery||[]).filter((C,A)=>A!==n);a({...s,mediaGallery:N})},r=n=>{a({...n}),p(!0)},v=async()=>{try{let n;if(t.find(N=>N.id===s.id)?n=await fetch(`${u}/api/blog/${s.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}):n=await fetch(`${u}/api/blog`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),n.ok){const N=await n.json();t.find(C=>C.id===s.id)?b(t.map(C=>C.id===s.id?N:C)):b([...t,N]),p(!1),a(null),m({title:"Success",description:"Blog post saved successfully"})}}catch{m({title:"Error",description:"Failed to save blog post",variant:"destructive"})}},d=async n=>{try{(await fetch(`${u}/api/blog/${n}`,{method:"DELETE"})).ok&&(b(t.filter(C=>C.id!==n)),m({title:"Success",description:"Blog post deleted successfully"}))}catch{m({title:"Error",description:"Failed to delete blog post",variant:"destructive"})}},o=n=>{const N=n.split(",").map(C=>C.trim()).filter(C=>C);a({...s,tags:N})};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Blog/News Management"}),e.jsxs(j,{onClick:c,children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"Add Post"]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:t.map(n=>{var N;return e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 flex gap-6",children:[n.image&&e.jsx("img",{src:n.image,alt:n.title,className:"w-48 h-32 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold",children:n.title}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["By ",n.author," • ",n.date," • ",n.category]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(j,{size:"sm",variant:"outline",onClick:()=>r(n),children:e.jsx(H,{className:"h-4 w-4"})}),e.jsx(j,{size:"sm",variant:"outline",onClick:()=>d(n.id),children:e.jsx(M,{className:"h-4 w-4 text-destructive"})})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:n.excerpt}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:(N=n.tags)==null?void 0:N.map((C,A)=>e.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:C},A))})]})]},n.id)})}),e.jsx(R,{open:y,onOpenChange:p,children:e.jsxs(U,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(J,{children:e.jsxs(G,{children:[s!=null&&s.id&&t.find(n=>n.id===s.id)?"Edit":"Add"," Blog Post"]})}),s&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Title"}),e.jsx(x,{value:s.title,onChange:n=>a({...s,title:n.target.value}),placeholder:"Post title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Excerpt (Short Description)"}),e.jsx(I,{value:s.excerpt,onChange:n=>a({...s,excerpt:n.target.value}),placeholder:"Brief description...",rows:2})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Content (Full Article)"}),e.jsx(I,{value:s.content,onChange:n=>a({...s,content:n.target.value}),placeholder:"Full article content...",rows:10})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Image URL"}),e.jsx(x,{value:s.image,onChange:n=>a({...s,image:n.target.value}),placeholder:"https://..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Author"}),e.jsx(x,{value:s.author,onChange:n=>a({...s,author:n.target.value}),placeholder:"John Doe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Date"}),e.jsx(x,{type:"date",value:s.date,onChange:n=>a({...s,date:n.target.value})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),e.jsx(x,{value:s.category,onChange:n=>a({...s,category:n.target.value}),placeholder:"Technology, Development, etc."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tags (comma separated)"}),e.jsx(x,{value:((h=s.tags)==null?void 0:h.join(", "))||"",onChange:n=>o(n.target.value),placeholder:"VR, Gaming, Innovation"})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("label",{className:"block text-sm font-medium",children:"Media Gallery (Images & Videos)"}),e.jsxs(j,{type:"button",size:"sm",onClick:l,children:[e.jsx($,{className:"mr-1 h-3 w-3"}),"Add Media"]})]}),e.jsx("div",{className:"space-y-3",children:(s.mediaGallery||[]).map((n,N)=>e.jsxs("div",{className:"border border-border rounded-lg p-3 space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("select",{className:"px-2 py-1 border border-border rounded bg-background text-sm",value:n.type,onChange:C=>T(N,"type",C.target.value),children:[e.jsx("option",{value:"image",children:"Image"}),e.jsx("option",{value:"video",children:"Video"})]}),e.jsx(j,{type:"button",size:"sm",variant:"destructive",onClick:()=>E(N),children:e.jsx(M,{className:"h-3 w-3"})})]}),e.jsx(x,{placeholder:`${n.type==="image"?"Image":"Video"} URL`,value:n.url,onChange:C=>T(N,"url",C.target.value)}),e.jsx(x,{placeholder:"Caption (optional)",value:n.caption||"",onChange:C=>T(N,"caption",C.target.value)})]},N))})]}),e.jsxs(j,{onClick:v,className:"w-full",children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Save Post"]})]})]})})]})}function Le({apiUrl:g,toast:u}){var C,A;const[m,t]=k.useState([]),[b,s]=k.useState(null),[a,y]=k.useState(!0),[p,c]=k.useState("all"),[l,T]=k.useState(null),[E,r]=k.useState(!1);k.useEffect(()=>{v(),d()},[]);const v=async()=>{try{const w=await fetch(`${g}/api/visitors`);if(w.ok){const i=await w.json();t(i)}}catch(w){console.error("Error fetching visitors:",w)}finally{y(!1)}},d=async()=>{try{const w=await fetch(`${g}/api/visitors/stats`);if(w.ok){const i=await w.json();s(i)}}catch(w){console.error("Error fetching stats:",w)}},o=async()=>{if(confirm("Are you sure you want to delete all visitor data?"))try{(await fetch(`${g}/api/visitors`,{method:"DELETE"})).ok&&(t([]),d(),u({title:"Success",description:"All visitor data deleted"}))}catch{u({title:"Error",description:"Failed to delete visitor data",variant:"destructive"})}},h=async w=>{try{(await fetch(`${g}/api/visitors/${w}`,{method:"DELETE"})).ok&&(t(m.filter(P=>P._id!==w)),d(),u({title:"Success",description:"Visitor deleted"}))}catch{u({title:"Error",description:"Failed to delete visitor",variant:"destructive"})}},n=()=>{if(p==="all")return m;const w=new Date;return m.filter(P=>{const f=new Date(P.visitTime);if(p==="today")return f.toDateString()===w.toDateString();if(p==="week"){const S=new Date(w.getTime()-6048e5);return f>=S}else if(p==="month"){const S=new Date(w.getTime()-2592e6);return f>=S}return!0})};if(a)return e.jsx("div",{children:"Loading..."});const N=n();return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Visitor Analytics"}),e.jsxs(j,{onClick:o,variant:"destructive",children:[e.jsx(M,{className:"mr-2 h-4 w-4"}),"Delete All"]})]}),b&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[e.jsx("div",{className:"text-3xl font-bold text-primary",children:b.totalVisitors}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Visitors"})]}),e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[e.jsx("div",{className:"text-3xl font-bold text-green-500",children:b.uniqueVisitors}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Unique Visitors"})]}),e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-500",children:((C=b.topCountries[0])==null?void 0:C._id)||"N/A"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Top Country"})]}),e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-500",children:((A=b.browserBreakdown[0])==null?void 0:A._id)||"N/A"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Top Browser"})]})]}),e.jsxs("div",{className:"flex gap-2 mb-6",children:[e.jsx(j,{variant:p==="all"?"default":"outline",onClick:()=>c("all"),children:"All Time"}),e.jsx(j,{variant:p==="today"?"default":"outline",onClick:()=>c("today"),children:"Today"}),e.jsx(j,{variant:p==="week"?"default":"outline",onClick:()=>c("week"),children:"This Week"}),e.jsx(j,{variant:p==="month"?"default":"outline",onClick:()=>c("month"),children:"This Month"})]}),e.jsxs("div",{className:"bg-card border border-border rounded-lg overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-muted",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Time"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Location"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Device"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Browser"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"OS"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Page"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"IP"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium",children:"Actions"})]})}),e.jsx("tbody",{children:N.map(w=>e.jsxs("tr",{className:"border-t border-border hover:bg-muted/50",children:[e.jsx("td",{className:"px-4 py-3 text-sm",children:new Date(w.visitTime).toLocaleString()}),e.jsx("td",{className:"px-4 py-3 text-sm",children:w.city?`${w.city}, ${w.country}`:w.country||"Unknown"}),e.jsx("td",{className:"px-4 py-3 text-sm",children:w.deviceType||"Unknown"}),e.jsxs("td",{className:"px-4 py-3 text-sm",children:[w.browser," ",w.browserVersion]}),e.jsx("td",{className:"px-4 py-3 text-sm",children:w.os}),e.jsx("td",{className:"px-4 py-3 text-sm",children:w.page}),e.jsx("td",{className:"px-4 py-3 text-sm font-mono text-xs",children:w.ip}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(j,{size:"sm",variant:"ghost",onClick:()=>{T(w),r(!0)},children:e.jsx(q,{className:"h-4 w-4"})}),e.jsx(j,{size:"sm",variant:"ghost",onClick:()=>h(w._id),children:e.jsx(M,{className:"h-4 w-4 text-destructive"})})]})})]},w._id))})]})}),N.length===0&&e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No visitors found"})]}),b&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-8",children:[e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Top Countries"}),e.jsx("div",{className:"space-y-2",children:b.topCountries.map((w,i)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:w._id||"Unknown"}),e.jsx("span",{className:"text-sm font-semibold",children:w.count})]},i))})]}),e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Device Breakdown"}),e.jsx("div",{className:"space-y-2",children:b.deviceBreakdown.map((w,i)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:w._id||"Unknown"}),e.jsx("span",{className:"text-sm font-semibold",children:w.count})]},i))})]})]}),e.jsx(R,{open:E,onOpenChange:r,children:e.jsxs(U,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsx(J,{children:e.jsx(G,{children:"Comprehensive Visitor Details"})}),l&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Visit Time:"})," ",new Date(l.visitTime).toLocaleString()]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Session ID:"})," ",e.jsx("span",{className:"font-mono text-xs",children:l.sessionId})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"IP Address:"})," ",l.ip]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Page:"})," ",l.page]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Referrer:"})," ",l.referrer||"Direct"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Returning Visitor:"})," ",l.isReturningVisitor?"Yes":"No"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Visit Count:"})," ",l.visitCount||1]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"First Visit:"})," ",l.firstVisit?new Date(l.firstVisit).toLocaleDateString():"N/A"]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Location"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Country:"})," ",l.country||"Unknown"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"City:"})," ",l.city||"Unknown"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Region:"})," ",l.region||"Unknown"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Postal Code:"})," ",l.postalCode||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Timezone:"})," ",l.timezone||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Timezone Offset:"})," ",l.timezoneOffset?`${l.timezoneOffset} minutes`:"N/A"]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Device & Browser"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Device Type:"})," ",l.deviceType||"Unknown"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Browser:"})," ",l.browser," ",l.browserVersion]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"OS:"})," ",l.os]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Platform:"})," ",l.platform||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Language:"})," ",l.language||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Touch Support:"})," ",l.touchSupport?"Yes":"No"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Max Touch Points:"})," ",l.maxTouchPoints||0]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"CPU Cores:"})," ",l.hardwareConcurrency||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Device Memory:"})," ",l.deviceMemory?`${l.deviceMemory} GB`:"N/A"]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Screen & Display"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Screen Resolution:"})," ",l.screenResolution||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Viewport:"})," ",l.viewportWidth,"x",l.viewportHeight]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Color Depth:"})," ",l.colorDepth," bits"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Pixel Ratio:"})," ",l.devicePixelRatio||1]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Orientation:"})," ",l.screenOrientation||"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Available Screen:"})," ",l.screenAvailWidth,"x",l.screenAvailHeight]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Network"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Connection Type:"})," ",l.connectionType||"Unknown"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Effective Type:"})," ",l.effectiveType||"Unknown"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"RTT:"})," ",l.rtt?`${l.rtt} ms`:"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Downlink:"})," ",l.downlink?`${l.downlink} Mbps`:"N/A"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Save Data:"})," ",l.saveData?"Enabled":"Disabled"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Online Status:"})," ",l.onlineStatus?"Online":"Offline"]})]})]}),l.batteryLevel>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Battery"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Level:"})," ",l.batteryLevel,"%"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Charging:"})," ",l.batteryCharging?"Yes":"No"]})]})]}),l.webglVendor&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-3",children:"WebGL"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Vendor:"})," ",l.webglVendor]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Renderer:"})," ",l.webglRenderer]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Version:"})," ",l.webglVersion]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Max Texture Size:"})," ",l.webglMaxTextureSize]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Features & Capabilities"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[l.cookiesEnabled?e.jsx(z,{className:"h-4 w-4 text-green-500"}):e.jsx(_,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm",children:"Cookies"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[l.localStorageEnabled?e.jsx(z,{className:"h-4 w-4 text-green-500"}):e.jsx(_,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm",children:"Local Storage"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[l.sessionStorageEnabled?e.jsx(z,{className:"h-4 w-4 text-green-500"}):e.jsx(_,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm",children:"Session Storage"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[l.indexedDBEnabled?e.jsx(z,{className:"h-4 w-4 text-green-500"}):e.jsx(_,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm",children:"IndexedDB"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[l.webGLEnabled?e.jsx(z,{className:"h-4 w-4 text-green-500"}):e.jsx(_,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm",children:"WebGL"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[l.webGL2Enabled?e.jsx(z,{className:"h-4 w-4 text-green-500"}):e.jsx(_,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm",children:"WebGL 2"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[l.webRTCEnabled?e.jsx(z,{className:"h-4 w-4 text-green-500"}):e.jsx(_,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm",children:"WebRTC"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[l.webWorkersEnabled?e.jsx(z,{className:"h-4 w-4 text-green-500"}):e.jsx(_,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm",children:"Web Workers"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[l.serviceWorkerEnabled?e.jsx(z,{className:"h-4 w-4 text-green-500"}):e.jsx(_,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm",children:"Service Worker"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[l.doNotTrack?e.jsx(z,{className:"h-4 w-4 text-green-500"}):e.jsx(_,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm",children:"Do Not Track"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[l.adBlockerDetected?e.jsx(z,{className:"h-4 w-4 text-green-500"}):e.jsx(_,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm",children:"Ad Blocker"})]})]})]}),l.plugins&&l.plugins.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg mb-3",children:["Browser Plugins (",l.plugins.length,")"]}),e.jsx("div",{className:"max-h-40 overflow-y-auto",children:e.jsx("div",{className:"text-sm space-y-1",children:l.plugins.map((w,i)=>e.jsx("div",{className:"text-muted-foreground",children:typeof w=="string"?w:w.name},i))})})]}),l.canvasFingerprint&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Canvas Fingerprint"}),e.jsxs("div",{className:"text-xs font-mono bg-muted p-2 rounded break-all",children:[l.canvasFingerprint.substring(0,100),"..."]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-3",children:"User Agent"}),e.jsx("div",{className:"text-xs font-mono bg-muted p-2 rounded break-all",children:l.userAgent})]})]})]})})]})}function Ve({apiUrl:g,toast:u}){const[m,t]=k.useState([]),[b,s]=k.useState(!0);k.useEffect(()=>{a()},[]);const a=async()=>{try{const c=await fetch(`${g}/api/testimonials/submissions`);if(c.ok){const l=await c.json();t(l)}}catch(c){console.error("Error fetching submissions:",c)}finally{s(!1)}},y=async c=>{try{(await fetch(`${g}/api/testimonials/submissions/${c}/approve`,{method:"PUT"})).ok&&(u({title:"Success",description:"Testimonial approved and added to the website"}),a())}catch{u({title:"Error",description:"Failed to approve testimonial",variant:"destructive"})}},p=async c=>{if(confirm("Are you sure you want to delete this submission?"))try{(await fetch(`${g}/api/testimonials/submissions/${c}`,{method:"DELETE"})).ok&&(u({title:"Success",description:"Submission deleted"}),a())}catch{u({title:"Error",description:"Failed to delete submission",variant:"destructive"})}};return b?e.jsx("div",{className:"text-center py-8",children:"Loading..."}):e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Testimonial Submissions"}),m.length===0?e.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No testimonial submissions yet"}):e.jsx("div",{className:"space-y-4",children:m.map(c=>e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:c.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[c.role,c.company?`, ${c.company}`:""]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:c.email})]}),e.jsx("div",{className:"flex items-center gap-1",children:[...Array(c.rating)].map((l,T)=>e.jsx(B,{className:"h-4 w-4 fill-yellow-500 text-yellow-500"},T))})]}),e.jsx("p",{className:"text-muted-foreground mb-4",children:c.testimonial}),e.jsxs("div",{className:"flex gap-2",children:[!c.approved&&e.jsxs(j,{size:"sm",onClick:()=>y(c._id),children:[e.jsx(z,{className:"mr-2 h-4 w-4"}),"Approve & Add to Website"]}),c.approved&&e.jsxs("span",{className:"text-sm text-green-500 flex items-center gap-1",children:[e.jsx(z,{className:"h-4 w-4"}),"Approved"]}),e.jsxs(j,{size:"sm",variant:"destructive",onClick:()=>p(c._id),children:[e.jsx(M,{className:"mr-2 h-4 w-4"}),"Delete"]})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Submitted: ",new Date(c.date).toLocaleString()]})]},c._id))})]})}function ze({apiUrl:g,toast:u}){const[m,t]=k.useState([]),[b,s]=k.useState([]),[a,y]=k.useState(!0),[p,c]=k.useState("all");k.useEffect(()=>{l(),T()},[]);const l=async()=>{try{const v=await fetch(`${g}/api/ratings`);if(v.ok){const d=await v.json();t(d)}}catch(v){console.error("Error fetching ratings:",v)}finally{y(!1)}},T=async()=>{try{const v=await fetch(`${g}/api/projects`);if(v.ok){const d=await v.json();s(d)}}catch(v){console.error("Error fetching projects:",v)}},E=async v=>{if(confirm("Are you sure you want to delete this rating?"))try{(await fetch(`${g}/api/ratings/${v}`,{method:"DELETE"})).ok&&(u({title:"Success",description:"Rating deleted successfully"}),l())}catch{u({title:"Error",description:"Failed to delete rating",variant:"destructive"})}},r=p==="all"?m:m.filter(v=>{var d;return((d=v.projectId)==null?void 0:d._id)===p});return a?e.jsx("div",{className:"text-center py-8",children:"Loading..."}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Project Ratings"}),e.jsxs("select",{className:"px-4 py-2 border border-border rounded-md bg-background",value:p,onChange:v=>c(v.target.value),children:[e.jsx("option",{value:"all",children:"All Projects"}),b.map(v=>e.jsx("option",{value:v._id,children:v.title},v._id))]})]}),r.length===0?e.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No ratings yet"}):e.jsx("div",{className:"bg-card border border-border rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-muted",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-4",children:"Project"}),e.jsx("th",{className:"text-left p-4",children:"User"}),e.jsx("th",{className:"text-left p-4",children:"Email"}),e.jsx("th",{className:"text-left p-4",children:"Rating"}),e.jsx("th",{className:"text-left p-4",children:"IP"}),e.jsx("th",{className:"text-left p-4",children:"Date"}),e.jsx("th",{className:"text-left p-4",children:"Actions"})]})}),e.jsx("tbody",{children:r.map(v=>{var d;return e.jsxs("tr",{className:"border-t border-border",children:[e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"font-medium",children:((d=v.projectId)==null?void 0:d.title)||"Unknown"})}),e.jsx("td",{className:"p-4",children:v.userName}),e.jsx("td",{className:"p-4 text-sm text-muted-foreground",children:v.userEmail}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(v.rating)].map((o,h)=>e.jsx(B,{className:"h-4 w-4 fill-yellow-500 text-yellow-500"},h)),e.jsxs("span",{className:"ml-2 text-sm font-semibold",children:[v.rating,"/5"]})]})}),e.jsx("td",{className:"p-4 text-sm text-muted-foreground",children:v.userIp||"N/A"}),e.jsx("td",{className:"p-4 text-sm text-muted-foreground",children:new Date(v.date).toLocaleDateString()}),e.jsx("td",{className:"p-4",children:e.jsx(j,{size:"sm",variant:"destructive",onClick:()=>E(v._id),children:e.jsx(M,{className:"h-4 w-4"})})})]},v._id)})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8",children:[e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Total Ratings"}),e.jsx("p",{className:"text-3xl font-bold",children:r.length})]}),e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Average Rating"}),e.jsx("p",{className:"text-3xl font-bold",children:r.length>0?(r.reduce((v,d)=>v+d.rating,0)/r.length).toFixed(1):"0.0"})]}),e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-2",children:"5-Star Ratings"}),e.jsx("p",{className:"text-3xl font-bold",children:r.filter(v=>v.rating===5).length})]})]})]})}function Ie({siteData:g,apiUrl:u,toast:m}){var a,y,p,c,l,T,E;const[t,b]=k.useState(g.contact||{message:"",email:"",discord:"",location:"",businessHours:{monday:"9:00 AM - 6:00 PM",tuesday:"9:00 AM - 6:00 PM",wednesday:"9:00 AM - 6:00 PM",thursday:"9:00 AM - 6:00 PM",friday:"9:00 AM - 6:00 PM",saturday:"10:00 AM - 4:00 PM",sunday:"Closed"},socials:{facebook:"",twitter:"",instagram:"",linkedin:"",discord:"",github:"",youtube:""}}),s=async()=>{try{(await fetch(`${u}/api/contact`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok&&m({title:"Success",description:"Contact information updated successfully!"})}catch{m({title:"Error",description:"Failed to update contact information",variant:"destructive"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Contact Page Settings"}),e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Business Hours"}),e.jsx("div",{className:"space-y-3",children:Object.keys(t.businessHours||{}).map(r=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("label",{className:"w-32 text-sm font-medium capitalize",children:[r,":"]}),e.jsx(x,{value:t.businessHours[r],onChange:v=>b({...t,businessHours:{...t.businessHours,[r]:v.target.value}}),placeholder:"9:00 AM - 6:00 PM",className:"flex-1"})]},r))})]}),e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Contact Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Message"}),e.jsx(I,{value:t.message,onChange:r=>b({...t,message:r.target.value}),placeholder:"Have a question or want to collaborate? We'd love to hear from you!",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),e.jsx(x,{value:t.email,onChange:r=>b({...t,email:r.target.value}),placeholder:"hello@technest.studio"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Discord"}),e.jsx(x,{value:t.discord,onChange:r=>b({...t,discord:r.target.value}),placeholder:"TechNest#1234"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Location"}),e.jsx(x,{value:t.location,onChange:r=>b({...t,location:r.target.value}),placeholder:"San Francisco, CA"})]})]})]}),e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Follow Us - Social Media Links"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Facebook"}),e.jsx(x,{value:((a=t.socials)==null?void 0:a.facebook)||"",onChange:r=>b({...t,socials:{...t.socials,facebook:r.target.value}}),placeholder:"https://facebook.com/technest"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Twitter"}),e.jsx(x,{value:((y=t.socials)==null?void 0:y.twitter)||"",onChange:r=>b({...t,socials:{...t.socials,twitter:r.target.value}}),placeholder:"https://twitter.com/technest"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Instagram"}),e.jsx(x,{value:((p=t.socials)==null?void 0:p.instagram)||"",onChange:r=>b({...t,socials:{...t.socials,instagram:r.target.value}}),placeholder:"https://instagram.com/technest"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"LinkedIn"}),e.jsx(x,{value:((c=t.socials)==null?void 0:c.linkedin)||"",onChange:r=>b({...t,socials:{...t.socials,linkedin:r.target.value}}),placeholder:"https://linkedin.com/company/technest"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Discord"}),e.jsx(x,{value:((l=t.socials)==null?void 0:l.discord)||"",onChange:r=>b({...t,socials:{...t.socials,discord:r.target.value}}),placeholder:"https://discord.gg/technest"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"GitHub"}),e.jsx(x,{value:((T=t.socials)==null?void 0:T.github)||"",onChange:r=>b({...t,socials:{...t.socials,github:r.target.value}}),placeholder:"https://github.com/technest"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"YouTube"}),e.jsx(x,{value:((E=t.socials)==null?void 0:E.youtube)||"",onChange:r=>b({...t,socials:{...t.socials,youtube:r.target.value}}),placeholder:"https://youtube.com/@technest"})]})]})]}),e.jsxs(j,{onClick:s,size:"lg",className:"w-full",children:[e.jsx(D,{className:"mr-2 h-5 w-5"}),"Save All Contact Settings"]})]})}export{He as default};
