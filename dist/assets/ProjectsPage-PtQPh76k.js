import{c as h,r as l,j as e,m as x,B as n,X as U}from"./index-Ct8dfoMw.js";import{D as P,a as R,b as M,c as E}from"./dialog-CSnXyiYf.js";import{B as L}from"./badge-COEUgLOT.js";import{I as N,u as Y}from"./use-toast-CaC6bT4S.js";import{S as q}from"./SEO-Bu7EaZA7.js";import{P as T,V as z,C as Q,a as X}from"./video-CQ1Iq2g5.js";import{S as w}from"./star-B0UvBASO.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],ee=h("download",K);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ae=h("external-link",se);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],re=h("funnel",te);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],le=h("search",ie);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],G=h("share-2",oe);function ue({projects:k}){const{toast:d}=Y(),[a,y]=l.useState(null),[p,V]=l.useState("All"),[f,H]=l.useState(""),[S,O]=l.useState({}),[Z,u]=l.useState(!1),[g,F]=l.useState(0),[o,b]=l.useState({userName:"",userEmail:""}),[_,I]=l.useState(!1),[i,v]=l.useState(0),[r,$]=l.useState([]),B=["All","2D","3D","VR","Mobile","Web"],C=k.filter(s=>{const t=p==="All"||s.type===p,c=s.title.toLowerCase().includes(f.toLowerCase())||s.description.toLowerCase().includes(f.toLowerCase());return t&&c}),D=s=>{navigator.share?navigator.share({title:s.title,text:s.description,url:window.location.href}).catch(()=>{}):(navigator.clipboard.writeText(window.location.href),d({title:"Link copied!",description:"Project link copied to clipboard"}))},W=(s,t)=>{if(JSON.parse(localStorage.getItem("ratedProjects")||"[]").includes(s)){d({title:"Already rated",description:"You have already rated this project",variant:"destructive"});return}F(t),u(!0)},J=async()=>{if(!o.userName||!o.userEmail){d({title:"Missing information",description:"Please enter your name and email",variant:"destructive"});return}const s=a._id||a.id;try{const t=await fetch(`${window.location.origin}/api/projects/${s}/rate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rating:g,userName:o.userName,userEmail:o.userEmail})}),c=await t.json();if(t.ok){O({...S,[s]:g});const m=JSON.parse(localStorage.getItem("ratedProjects")||"[]");m.push(s),localStorage.setItem("ratedProjects",JSON.stringify(m)),d({title:"Thank you!",description:`You rated this project ${g} stars`}),u(!1),b({userName:"",userEmail:""}),window.location.reload()}else d({title:"Error",description:c.error||"Failed to submit rating",variant:"destructive"})}catch{d({title:"Error",description:"Failed to submit rating. Please try again.",variant:"destructive"})}},A=s=>k.filter(t=>t.id!==s.id&&t.type===s.type).slice(0,3);return e.jsxs("div",{className:"min-h-screen pt-24 pb-20 px-4",children:[e.jsx(q,{title:"Our Projects - TechNest",description:"Explore our portfolio of immersive gaming experiences across 2D, 3D, VR, Mobile, and Web platforms",keywords:"game projects, TechNest portfolio, indie games, VR games, mobile games"}),e.jsxs("div",{className:"container mx-auto",children:[e.jsx(x.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-5xl md:text-6xl font-bold text-center mb-8",children:"Our Projects"}),e.jsx(x.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-xl text-muted-foreground text-center mb-12 max-w-2xl mx-auto",children:"Explore our portfolio of immersive gaming experiences"}),e.jsx(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"max-w-2xl mx-auto mb-8",children:e.jsxs("div",{className:"relative",children:[e.jsx(le,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"}),e.jsx(N,{type:"text",placeholder:"Search projects by name or description...",value:f,onChange:s=>H(s.target.value),className:"pl-10 h-12 bg-card border-border"})]})}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(re,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Filter:"})]}),B.map(s=>e.jsx(n,{onClick:()=>V(s),variant:p===s?"default":"outline",className:p===s?"bg-primary text-primary-foreground":"border-border hover:border-primary",children:s},s))]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:C.map((s,t)=>{var c,m;return e.jsxs(x.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:t*.1},className:"bg-card border border-border rounded-lg overflow-hidden hover:border-primary transition-all duration-300 cursor-pointer group",onClick:()=>y(s),children:[e.jsxs("div",{className:"relative aspect-video overflow-hidden",children:[e.jsx("img",{src:s.thumbnailUrl,alt:s.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),e.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsx(T,{className:"h-12 w-12 text-primary"})}),e.jsxs("div",{className:"absolute top-3 left-3 bg-background/90 backdrop-blur-sm px-2 py-1 rounded-full flex items-center gap-1",children:[e.jsx(w,{className:"h-3 w-3 fill-yellow-500 text-yellow-500"}),e.jsx("span",{className:"text-xs font-semibold",children:(c=s.ratings)!=null&&c.average?s.ratings.average.toFixed(1):"0.0"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",((m=s.ratings)==null?void 0:m.count)||0,")"]})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[e.jsx(L,{variant:"outline",className:"border-primary text-primary",children:s.type}),e.jsx(n,{size:"sm",variant:"ghost",onClick:j=>{j.stopPropagation(),D(s)},className:"h-8 w-8 p-0",children:e.jsx(G,{className:"h-4 w-4"})})]}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:s.title}),e.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:s.description}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map(j=>e.jsx("span",{className:"text-xs px-2 py-1 bg-muted rounded",children:j},j))})]})]},s.id)})}),C.length===0&&e.jsxs("div",{className:"text-center py-20",children:[e.jsx("p",{className:"text-2xl text-muted-foreground",children:"No projects found"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Try adjusting your search or filter"})]}),e.jsx(P,{open:!!a,onOpenChange:()=>y(null),children:e.jsx(R,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:a&&e.jsxs(e.Fragment,{children:[e.jsx(M,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx(E,{className:"text-3xl",children:a.title}),e.jsxs(n,{size:"sm",variant:"ghost",onClick:()=>D(a),children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Share"]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("img",{src:a.coverUrl,alt:a.title,className:"w-full rounded-lg"}),a.mediaGallery&&a.mediaGallery.length>0&&e.jsxs("div",{className:"border-t border-border pt-6",children:[e.jsxs("h4",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[e.jsx("span",{className:"bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"Gallery"}),e.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["(",a.mediaGallery.length," items)"]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:a.mediaGallery.map((s,t)=>e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.1},className:"relative group rounded-xl overflow-hidden shadow-lg hover:shadow-2xl hover:shadow-primary/20 transition-all duration-300 cursor-pointer",onClick:()=>{$(a.mediaGallery),v(t),I(!0)},children:[s.type==="image"?e.jsxs("div",{className:"relative aspect-video overflow-hidden bg-muted",children:[e.jsx("img",{src:s.url,alt:s.caption||`Gallery image ${t+1}`,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"absolute top-3 right-3 bg-primary/90 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-semibold text-primary-foreground opacity-0 group-hover:opacity-100 transition-opacity",children:["Image ",t+1]})]}):e.jsxs("div",{className:"relative aspect-video bg-gradient-to-br from-primary/10 to-secondary/10 flex items-center justify-center group",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0icmdiYSgyNTUsMjU1LDI1NSwwLjAzKSIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+')] opacity-20"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"bg-primary/20 backdrop-blur-md rounded-full p-4 md:p-6 mb-2 md:mb-3 group-hover:scale-110 transition-transform",children:e.jsx(z,{className:"h-8 w-8 md:h-12 md:w-12 text-primary"})}),e.jsx("p",{className:"text-xs md:text-sm font-medium text-center",children:"Video Content"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60 backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-all duration-300",children:e.jsx("div",{className:"transform scale-75 group-hover:scale-100 transition-transform",children:e.jsx("div",{className:"bg-primary rounded-full p-3 md:p-4 shadow-lg shadow-primary/50",children:e.jsx(T,{className:"h-6 w-6 md:h-8 md:w-8 text-primary-foreground fill-current"})})})}),e.jsxs("div",{className:"absolute top-3 right-3 bg-secondary/90 backdrop-blur-sm px-2 md:px-3 py-1 rounded-full text-xs font-semibold text-secondary-foreground opacity-0 group-hover:opacity-100 transition-opacity",children:["Video ",t+1]})]}),s.caption&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black via-black/90 to-transparent text-white p-3 md:p-4 transform translate-y-full group-hover:translate-y-0 transition-transform duration-300",children:e.jsx("p",{className:"text-xs md:text-sm font-medium line-clamp-2",children:s.caption})})]},t))})]}),e.jsx("div",{className:"bg-muted/50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-1",children:"Rate this project"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Help others discover great games"})]}),e.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(s=>e.jsx("button",{onClick:()=>W(a.id,s),className:"hover:scale-110 transition-transform",children:e.jsx(w,{className:`h-6 w-6 ${s<=(S[a.id]||0)?"fill-yellow-500 text-yellow-500":"text-muted-foreground"}`})},s))})]})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Description"}),e.jsx("p",{className:"text-muted-foreground",children:a.description})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Key Features"}),e.jsx("ul",{className:"list-disc list-inside text-muted-foreground space-y-1",children:a.features.map(s=>e.jsx("li",{children:s},s))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Technologies"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.technologies.map(s=>e.jsx(L,{variant:"secondary",children:s},s))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Release Date"}),e.jsx("p",{className:"text-muted-foreground",children:new Date(a.releaseDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Available On"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.platforms.map(s=>e.jsxs(n,{variant:"outline",size:"sm",children:[e.jsx(ae,{className:"mr-2 h-4 w-4"}),s]},s))})]}),(a.downloadLink||a.videoLink)&&e.jsxs("div",{className:"flex gap-4",children:[a.downloadLink&&e.jsxs(n,{className:"flex-1",children:[e.jsx(ee,{className:"mr-2 h-4 w-4"}),"Download"]}),a.videoLink&&e.jsxs(n,{variant:"outline",className:"flex-1",children:[e.jsx(z,{className:"mr-2 h-4 w-4"}),"Watch Trailer"]})]}),A(a).length>0&&e.jsxs("div",{className:"border-t border-border pt-6",children:[e.jsx("h4",{className:"font-semibold mb-4",children:"You might also like"}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:A(a).map(s=>e.jsxs("div",{className:"cursor-pointer group",onClick:()=>y(s),children:[e.jsx("div",{className:"aspect-video rounded-lg overflow-hidden mb-2",children:e.jsx("img",{src:s.thumbnailUrl,alt:s.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform"})}),e.jsx("h5",{className:"text-sm font-semibold group-hover:text-primary transition-colors",children:s.title})]},s.id))})]})]})]})})}),e.jsx(P,{open:Z,onOpenChange:u,children:e.jsxs(R,{className:"sm:max-w-md",children:[e.jsx(M,{children:e.jsx(E,{children:"Rate this Project"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-center gap-2",children:[1,2,3,4,5].map(s=>e.jsx(w,{className:`h-8 w-8 ${s<=g?"fill-yellow-500 text-yellow-500":"text-muted-foreground"}`},s))}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Your Name"}),e.jsx(N,{placeholder:"Enter your name",value:o.userName,onChange:s=>b({...o,userName:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Your Email"}),e.jsx(N,{type:"email",placeholder:"Enter your email",value:o.userEmail,onChange:s=>b({...o,userEmail:s.target.value})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{variant:"outline",className:"flex-1",onClick:()=>u(!1),children:"Cancel"}),e.jsx(n,{className:"flex-1",onClick:J,children:"Submit Rating"})]})]})]})}),_&&r.length>0&&e.jsxs("div",{className:"fixed inset-0 z-[100] bg-black/95 backdrop-blur-sm flex items-center justify-center p-4",children:[e.jsx("button",{onClick:()=>I(!1),className:"absolute top-4 right-4 z-10 bg-white/10 hover:bg-white/20 backdrop-blur-md rounded-full p-2 md:p-3 transition-all",children:e.jsx(U,{className:"h-5 w-5 md:h-6 md:w-6 text-white"})}),r.length>1&&e.jsx("button",{onClick:()=>v((i-1+r.length)%r.length),className:"absolute left-2 md:left-4 z-10 bg-white/10 hover:bg-white/20 backdrop-blur-md rounded-full p-2 md:p-3 transition-all",children:e.jsx(Q,{className:"h-5 w-5 md:h-6 md:w-6 text-white"})}),r.length>1&&e.jsx("button",{onClick:()=>v((i+1)%r.length),className:"absolute right-2 md:right-4 z-10 bg-white/10 hover:bg-white/20 backdrop-blur-md rounded-full p-2 md:p-3 transition-all",children:e.jsx(X,{className:"h-5 w-5 md:h-6 md:w-6 text-white"})}),e.jsxs("div",{className:"w-full max-w-6xl max-h-[90vh] flex flex-col items-center justify-center",children:[r[i].type==="image"?e.jsx("img",{src:r[i].url,alt:r[i].caption||`Image ${i+1}`,className:"max-w-full max-h-[80vh] object-contain rounded-lg"}):e.jsx("div",{className:"w-full aspect-video max-h-[80vh]",children:e.jsx("iframe",{src:r[i].url,className:"w-full h-full rounded-lg",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"})}),r[i].caption&&e.jsx("div",{className:"mt-4 text-center",children:e.jsx("p",{className:"text-white text-sm md:text-base",children:r[i].caption})}),e.jsxs("div",{className:"mt-4 text-white/70 text-xs md:text-sm",children:[i+1," / ",r.length]})]})]})]})]})}export{ue as default};
